<%= turbo_frame_tag 'update_quantity' do %>
  <%= @number_of_items_in_the_cart %>
<% end %>

<%#= turbo_frame_tag 'change_button' do %>
<%# if LineItem.all_product_with_cart(current_cart.id).count > 0 %>
<%#= turbo_frame_tag 'change_quantity' do %>
<%#= button_to "+1", line_item_add_path(id: LineItem.all_product_with_cart(current_cart).find_by(product_id: product.id)), method: :post %>
<%#= LineItem.all_product_with_cart(current_cart.id).find_by(product_id: product.id).quantity %>
<%#= button_to "-1", line_item_reduce_path(id: LineItem.all_product_with_cart(current_cart).find_by(product_id: product.id)), method: :post %>
<%# end %>
<%# else %>
<%#= button_to 'Add to cart', line_items_path(product_id: product.id), data: { turbo_frame: 'change_button' }, class: "btn btn-outline-dark flex-shrink-0" %>
<%# end %>
<%# end %>

<%= turbo_frame_tag 'change_button' do %>
  <% if LineItem.all_product_with_cart(current_cart.id).count < 1 %>
    <%= button_to 'Add to cart', line_items_path(product_id: @product.id), class: "btn btn-outline-dark flex-shrink-0" %>
  <% else %>
    <%= button_to "+", line_item_change_quantity_path(id: (params['product_id']), act: 'add'), method: :post %>
    <%= @line_item.quantity %>
    <%= button_to "-", line_item_change_quantity_path(id: (params['product_id'])), method: :post %>
  <% end %>
<% end %>

